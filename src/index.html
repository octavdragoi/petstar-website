<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
   <meta name="description" content="{{t meta.description}}" />

   <!-- Site Title -->
   <title>{{t meta.title}}</title>

<!--#include virtual="assets/components/head-common.html" -->
</head>

<body style="opacity: 0; transition: opacity 0.3s ease-in;">

   <!-- Custom Cursor -->
   <div class="mouseCursor cursor-outer"></div>
   <div class="mouseCursor cursor-inner"><span><i class="tji-angle-left"></i>Drag<i class="tji-angle-right"></i></span></div>

<!--#include virtual="assets/components/body-start.html" -->

   <!-- Body Overlay -->
   <div class="body-overlay"></div>

   <!-- Hamburger Menu -->
   <div class="hamburger-area" data-lenis-prevent>
      <div class="hamburger_bg"></div>
      <div class="hamburger_wrapper">
         <div class="hamburger_top d-flex align-items-center justify-content-between">
            <div class="hamburger_logo">
               <a href="index.html" class="mobile_logo">
                  <img src="assets/images/logos/logo-main.webp" alt="PetStar" />
               </a>
            </div>
            <div class="hamburger_close">
               <button class="hamburger_close_btn hamburgerCloseBtn"><i class="fa-thin fa-times"></i></button>
            </div>
         </div>

         <div class="hamburger_menu">
            <div class="mobile_menu"></div>
         </div>

         <div class="hamburger-infos">
            <h4 class="hamburger-title">{{t contact.heading}}</h4>
            <div class="contact-info">
               <div class="contact_item">
                  <span class="subtitle">{{t contact.heading}}</span>
                  <a href="mailto:{{t contact.email}}">{{t contact.email}}</a>
               </div>
               <div class="contact_item">
                  <span class="subtitle">Phone</span>
                  <a href="tel:+40243230808">{{t contact.phone}}</a>
               </div>
               <div class="contact_item">
                  <span class="subtitle">Address</span>
                  <p>{{t contact.address}}</p>
               </div>
            </div>
         </div>
      </div>
   </div>
   <!-- end: Hamburger Menu -->

   <!-- ======================================
      HEADER SECTION - Section 1
   ====================================== -->
   <!--#include virtual="sections/section-01-header.html" -->

   <main id="primary" class="site-main">

      <!-- ======================================
         HERO SECTION - Section 2
      ====================================== -->
      <!--#include virtual="sections/section-02-hero.html" -->

      <!-- ======================================
         FEATURES SECTION - Section 2B (Dummy for curved transition)
      ====================================== -->
      <!--#include virtual="sections/section-02b-features.html" -->

      <!-- ======================================
         STORY SECTION - Section 3
      ====================================== -->
      <!--#include virtual="sections/section-03-story.html" -->

      <!-- ======================================
         TEAMS SECTION - Section 4
      ====================================== -->
      <!--#include virtual="sections/section-04-teams.html" -->

      <!-- ======================================
         PRODUCTS SECTION - Section 5
      ====================================== -->
      <!--#include virtual="sections/section-05-products.html" -->

      <!-- ======================================
         CERTIFICATIONS SECTION - Section 6
      ====================================== -->
      <!--#include virtual="sections/section-06-certifications.html" -->

      <!-- ======================================
         PORTFOLIO SECTION - Section 7
      ====================================== -->
      <!--#include virtual="sections/section-07-portfolio.html" -->

      <!-- ======================================
         VIRTUAL TOUR SECTION - Section 8
      ====================================== -->
      <!-- Virtual tour section will be added here -->

      <!-- ======================================
         STATISTICS SECTION - Section 9
      ====================================== -->
      <!-- Statistics section will be added here -->

      <!-- ======================================
         NEWS SECTION - Section 10
      ====================================== -->
      <!--#include virtual="sections/section-10-news.html" -->

      <!-- ======================================
         CONTACT CTA SECTION - Section 11
      ====================================== -->
      <!-- Contact CTA section will be added here -->

   </main>

   <!-- ======================================
      FOOTER SECTION - Section 12
   ====================================== -->
   <!--#include virtual="sections/section-12-footer.html" -->

   <!-- JS here -->
<!--#include virtual="assets/components/body-end.html" -->
   <script src="assets/js/petstar.js"></script>
   <script src="assets/js/news-loader.js"></script>
   <script src="assets/js/blog-loader.js"></script>

   <!-- Initialize BlogLoader for homepage news section -->
   <script>
      // Wait for both DOM ready AND stylesheets loaded before initializing
      var stylesLoaded = false;
      var domReady = false;

      // Check when stylesheets are loaded
      if (document.readyState === 'loading') {
         document.addEventListener('DOMContentLoaded', function() {
            domReady = true;
            initializeWhenReady();
         });
      } else {
         domReady = true;
      }

      // Use window.load as a reliable signal that CSS is ready
      window.addEventListener('load', function() {
         stylesLoaded = true;
         initializeWhenReady();
      });

      // Initialize only when both conditions are met
      function initializeWhenReady() {
         if (!stylesLoaded) return; // Wait for styles

         // Remove WOW animations from elements already in viewport to prevent double-animation
         // This prevents flickering on hero and story sections
         if (typeof WOW !== 'undefined') {
            var viewportHeight = window.innerHeight;
            document.querySelectorAll('.wow').forEach(function(element) {
               var rect = element.getBoundingClientRect();
               // If element is in initial viewport (top is above fold)
               if (rect.top < viewportHeight * 0.8) {
                  element.classList.remove('wow');
                  element.style.visibility = 'visible';
                  element.style.animationName = 'none';
               }
            });
         }

         // Initialize BlogLoader for homepage (blog template styling)
         if (typeof BlogLoader !== 'undefined') {
            BlogLoader.renderBlogSection('blog-container', 4);
         }

         // Initialize Story Section Carousel
         if (typeof Swiper !== 'undefined') {
            var storyCarousel = document.querySelector('.story-carousel-slider');
            if (storyCarousel) {
               new Swiper('.story-carousel-slider', {
                  slidesPerView: 1,
                  spaceBetween: 0,
                  loop: true,
                  speed: 800,
                  autoplay: {
                     delay: 2000,
                     disableOnInteraction: false
                  },
                  pagination: {
                     el: '.story-carousel-pagination',
                     clickable: true
                  }
               });
            }
         }

         // Initialize Odometers with Intersection Observer for accurate visibility detection
         if ($(".odometer").length > 0) {
            // Use Intersection Observer for more accurate detection
            var odometerObserver = new IntersectionObserver(function(entries) {
               entries.forEach(function(entry) {
                  // Only trigger when element is actually visible (50% in viewport)
                  if (entry.isIntersecting && entry.intersectionRatio >= 0.5) {
                     var $element = $(entry.target);

                     // Check if already triggered
                     if (!$element.data('odometer-triggered')) {
                        $element.data('odometer-triggered', true);

                        var countNumber = $element.attr("data-count");

                        // Wait a bit to ensure WOW animations are complete
                        setTimeout(function() {
                           $element.html(countNumber);
                        }, 300);

                        // Stop observing this element
                        odometerObserver.unobserve(entry.target);
                     }
                  }
               });
            }, {
               threshold: 0.5,  // Trigger when 50% of element is visible
               rootMargin: '0px'  // No margin adjustment
            });

            // Observe all odometer elements
            $(".odometer").each(function() {
               odometerObserver.observe(this);
            });
         }

         // Refresh ScrollTrigger after everything is initialized
         if (typeof ScrollTrigger !== 'undefined') {
            setTimeout(function() {
               ScrollTrigger.refresh();
            }, 100);
         }
      }
   </script>

</body>

</html>
